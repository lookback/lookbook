.btn {
  --bg: var(--color-button-primary-bg);
  --text: var(--color-button-primary-text);
  --bg-hover: var(--color-button-primary-hover-bg);
  --text-hover: var(--color-button-primary-hover-text);
  --bg-active: var(--color-button-primary-active-bg);
  --text-active: var(--color-button-primary-active-text);
  --bg-disabled: var(--color-button-primary-disabled-bg);
  --text-disabled: var(--color-button-primary-disabled-text);

  display: inline-flex;
  gap: var(--spacing-3);
  align-items: center;
  justify-content: center;
  -webkit-tap-highlight-color: transparent;
  text-decoration: none;
  user-select: none;
  white-space: nowrap;

  font-weight: var(--button-font-weight);
  border-radius: var(--button-radius);
  height: var(--button-height);
  line-height: 1;
  padding-inline: var(--button-padding-inline);
  font-family: var(--button-font-family);
  background-color: var(--bg);
  color: var(--text);
  border: 0 solid var(--color-button-border);

  &:where([aria-label], :has(> .sr-only)):has(> .icon:first-child) {
    --button-height: 2.5em; /* Let these square, icon-only buttons be sized with .text-{size} helpers. */
    aspect-ratio: 1 / 1;
    padding: 0;
    border-radius: 999em;
  }

  &:where(:focus, :hover, :active, :disabled) {
    text-decoration: none;
  }

  &:where(:hover, [aria-expanded='true']) {
    border-color: var(--color-button-hover-border);
    color: var(--text-hover);
    background-color: var(--bg-hover);
  }

  &:active {
    border-color: var(--color-button-hover-border);
    color: var(--text-active);
    background-color: var(--bg-active);
  }

  &:disabled {
    background-color: var(--bg-disabled);
    color: var(--text-disabled);
    border-width: 0;
  }

  &:where(.btn-destructive, .btn-success) {
    --color-outline: var(--bg);
  }

  &-secondary {
    --bg: var(--color-button-secondary-bg);
    --text: var(--color-button-secondary-text);
    --bg-active: var(--color-button-secondary-active-bg);
    --text-active: var(--color-button-secondary-active-text);
    --bg-hover: var(--color-button-secondary-hover-bg);
    --text-hover: var(--color-button-secondary-hover-text);
    --bg-disabled: var(--color-button-secondary-disabled-bg);
    --text-disabled: var(--color-button-secondary-disabled-text);
    border-width: var(--button-border-width);
    outline-offset: -2px;
  }

  &-success {
    --bg: var(--color-button-success-bg);
    --text: var(--color-button-success-text);
    --bg-active: var(--color-button-success-active-bg);
    --text-active: var(--color-button-success-active-text);
    --bg-hover: var(--color-button-success-hover-bg);
    --text-hover: var(--color-button-success-hover-text);
    --bg-disabled: var(--color-button-success-disabled-bg);
    --text-disabled: var(--color-button-success-disabled-text);
  }

  &-destructive {
    --bg: var(--color-button-destructive-bg);
    --text: var(--color-button-destructive-text);
    --bg-active: var(--color-button-destructive-active-bg);
    --text-active: var(--color-button-destructive-active-text);
    --bg-hover: var(--color-button-destructive-hover-bg);
    --text-hover: var(--color-button-destructive-hover-text);
    --bg-disabled: var(--color-button-destructive-disabled-bg);
    --text-disabled: var(--color-button-destructive-disabled-text);
  }

  &-tertiary {
    --bg: var(--color-button-tertiary-bg);
    --text: var(--color-button-tertiary-text);
    --bg-active: var(--color-button-tertiary-active-bg);
    --text-active: var(--color-button-tertiary-active-text);
    --bg-hover: var(--color-button-tertiary-hover-bg);
    --text-hover: var(--color-button-tertiary-hover-text);
    --bg-disabled: var(--color-button-tertiary-disabled-bg);
    --text-disabled: var(--color-button-tertiary-disabled-text);
    --color-outline: var(--text);
    outline-offset: -2px;

    &:not(:disabled) {
      position: relative;

      &:active {
        top: 1px;
      }
    }

    &:where(:hover, :active, :focus-visible) {
      text-decoration: underline;
    }

    &:disabled {
      color: var(--color-disabled-icon);
      background: none;
    }

    &:where([aria-label], :has(> .sr-only)):has(> .icon:first-child) {
      transition: background-color 150ms ease;

      &:not(:disabled) {
        &:hover {
          background-color: var(--color-grey-200);
        }

        &:active {
          top: auto;
          background-color: var(--color-grey-300);
        }
      }
    }

    &--destructive {
      --text: var(--color-button-tertiary-destructive-text);
      --text-hover: var(--color-button-tertiary-destructive-text-hover);
      --text-active: var(--color-button-tertiary-destructive-text-hover);
    }
  }
}
